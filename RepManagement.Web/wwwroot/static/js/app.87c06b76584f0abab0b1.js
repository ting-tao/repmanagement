webpackJsonp([13],{"+lAU":function(e,t){},0:function(e,t){},"1uAg":function(e,t,n){e.exports=n.p+"static/img/sys-menulogo.8c05336.png"},"64F1":function(e,t){},"991W":function(e,t){},Dep7:function(e,t){},IqEw:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=[{id:100,name:"物料类别"},{id:101,name:"模型类别"},{id:102,name:"供应商类别"},{id:103,name:"客户类别"},{id:104,name:"成品款式"},{id:105,name:"成品材质"}]},LqIw:function(e,t,n){"use strict";var i=n("mvHQ"),r=n.n(i),a=n("//Fk"),o=n.n(a),u={encrypt:function(e,t){var n=this,i=(e=new TextEncoder("UTF-8").encode(e),n.geneRandomHexStr(64)),r=n.hexStringToUint8Array(i),a={name:"aes-cbc",iv:n.hexStringToUint8Array("000102030405060708090a0b0c0d0e0f")};return crypto.subtle.importKey("jwk",t,{name:"rsa-oaep",hash:{name:"sha-256"}},!0,["encrypt"]).then(function(e){return crypto.subtle.encrypt({name:"rsa-oaep"},e,r)}).then(function(e){return r=n.bytesToHexString(e),crypto.subtle.importKey("raw",n.hexStringToUint8Array(i),a,!1,["encrypt","decrypt"])}).then(function(t){return crypto.subtle.encrypt(a,t,e)}).then(function(e){return o.a.resolve({encrypted:n.bytesToHexString(e),encryptedKey:r})})},decrypt:function(e,t){var n=new this.hexStringToUint8Array(e.encryptedKey),i=new this.hexStringToUint8Array(e.encrypted),r={name:"aes-cbc",iv:this.hexStringToUint8Array("000102030405060708090a0b0c0d0e0f")};return crypto.subtle.importKey("jwk",t,{name:"rsa-oaep",hash:{name:"sha-256"}},!0,["decrypt"]).then(function(e){return crypto.subtle.decrypt({name:"rsa-oaep"},e,n)}).then(function(e){return crypto.subtle.importKey("raw",e,r,!1,["encrypt","decrypt"])}).catch(function(){console.error("decrypt error")}).then(function(e){return crypto.subtle.decrypt(r,e,i)}).then(function(e){return o.a.resolve(new TextDecoder("UTF-8").decode(new Uint8Array(e)))})},createNewUserKey:function(){var e={name:"RSA-OAEP",hash:{name:"sha-256"},modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},t="";return crypto.subtle.generateKey(e,!0,["encrypt","decrypt"]).then(function(e){return t=e,o.a.all([crypto.subtle.exportKey("jwk",t.publicKey),crypto.subtle.exportKey("jwk",t.privateKey)])})},_arrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},hexStringToUint8Array:function(e){if(e.length%2!=0)throw"Invalid hexString";for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var i=parseInt(e.substr(n,2),16);if(NaN==i)throw"Invalid hexString";t[n/2]=i}return t},bytesToHexString:function(e){if(!e)return null;e=new Uint8Array(e);for(var t=[],n=0;n<e.length;++n){var i=e[n].toString(16);i.length<2&&(i="0"+i),t.push(i)}return t.join("")},geneRandomHexStr:function(e){for(var t="",n=0;n<e;n++)t+="0123456789abcdef".charAt(Math.floor(Math.random()*"0123456789abcdef".length));return t}},s=0,c=8,l=function(e){return y(d(g(e),e.length*c))};function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,a=271733878,o=0;o<e.length;o+=16){var u=n,s=i,c=r,l=a;i=v(i=v(i=v(i=v(i=f(i=f(i=f(i=f(i=p(i=p(i=p(i=p(i=h(i=h(i=h(i=h(i,r=h(r,a=h(a,n=h(n,i,r,a,e[o+0],7,-680876936),i,r,e[o+1],12,-389564586),n,i,e[o+2],17,606105819),a,n,e[o+3],22,-1044525330),r=h(r,a=h(a,n=h(n,i,r,a,e[o+4],7,-176418897),i,r,e[o+5],12,1200080426),n,i,e[o+6],17,-1473231341),a,n,e[o+7],22,-45705983),r=h(r,a=h(a,n=h(n,i,r,a,e[o+8],7,1770035416),i,r,e[o+9],12,-1958414417),n,i,e[o+10],17,-42063),a,n,e[o+11],22,-1990404162),r=h(r,a=h(a,n=h(n,i,r,a,e[o+12],7,1804603682),i,r,e[o+13],12,-40341101),n,i,e[o+14],17,-1502002290),a,n,e[o+15],22,1236535329),r=p(r,a=p(a,n=p(n,i,r,a,e[o+1],5,-165796510),i,r,e[o+6],9,-1069501632),n,i,e[o+11],14,643717713),a,n,e[o+0],20,-373897302),r=p(r,a=p(a,n=p(n,i,r,a,e[o+5],5,-701558691),i,r,e[o+10],9,38016083),n,i,e[o+15],14,-660478335),a,n,e[o+4],20,-405537848),r=p(r,a=p(a,n=p(n,i,r,a,e[o+9],5,568446438),i,r,e[o+14],9,-1019803690),n,i,e[o+3],14,-187363961),a,n,e[o+8],20,1163531501),r=p(r,a=p(a,n=p(n,i,r,a,e[o+13],5,-1444681467),i,r,e[o+2],9,-51403784),n,i,e[o+7],14,1735328473),a,n,e[o+12],20,-1926607734),r=f(r,a=f(a,n=f(n,i,r,a,e[o+5],4,-378558),i,r,e[o+8],11,-2022574463),n,i,e[o+11],16,1839030562),a,n,e[o+14],23,-35309556),r=f(r,a=f(a,n=f(n,i,r,a,e[o+1],4,-1530992060),i,r,e[o+4],11,1272893353),n,i,e[o+7],16,-155497632),a,n,e[o+10],23,-1094730640),r=f(r,a=f(a,n=f(n,i,r,a,e[o+13],4,681279174),i,r,e[o+0],11,-358537222),n,i,e[o+3],16,-722521979),a,n,e[o+6],23,76029189),r=f(r,a=f(a,n=f(n,i,r,a,e[o+9],4,-640364487),i,r,e[o+12],11,-421815835),n,i,e[o+15],16,530742520),a,n,e[o+2],23,-995338651),r=v(r,a=v(a,n=v(n,i,r,a,e[o+0],6,-198630844),i,r,e[o+7],10,1126891415),n,i,e[o+14],15,-1416354905),a,n,e[o+5],21,-57434055),r=v(r,a=v(a,n=v(n,i,r,a,e[o+12],6,1700485571),i,r,e[o+3],10,-1894986606),n,i,e[o+10],15,-1051523),a,n,e[o+1],21,-2054922799),r=v(r,a=v(a,n=v(n,i,r,a,e[o+8],6,1873313359),i,r,e[o+15],10,-30611744),n,i,e[o+6],15,-1560198380),a,n,e[o+13],21,1309151649),r=v(r,a=v(a,n=v(n,i,r,a,e[o+4],6,-145523070),i,r,e[o+11],10,-1120210379),n,i,e[o+2],15,718787259),a,n,e[o+9],21,-343485551),n=x(n,u),i=x(i,s),r=x(r,c),a=x(a,l)}return Array(n,i,r,a)}function m(e,t,n,i,r,a){return x((o=x(x(t,e),x(i,a)))<<(u=r)|o>>>32-u,n);var o,u}function h(e,t,n,i,r,a,o){return m(t&n|~t&i,e,t,r,a,o)}function p(e,t,n,i,r,a,o){return m(t&i|n&~i,e,t,r,a,o)}function f(e,t,n,i,r,a,o){return m(t^n^i,e,t,r,a,o)}function v(e,t,n,i,r,a,o){return m(n^(t|~i),e,t,r,a,o)}function x(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e){for(var t=Array(),n=(1<<c)-1,i=0;i<e.length*c;i+=c)t[i>>5]|=(e.charCodeAt(i/c)&n)<<i%32;return t}function y(e){for(var t=s?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}n.d(t,"a",function(){return b});var E={set:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+i.toGMTString())},get:function(e){var t=0,n=0;return document.cookie.length>0&&-1!=(t=document.cookie.indexOf(e+"="))?(t=t+e.length+1,-1==(n=document.cookie.indexOf(";",t))&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))):""},clear:function(e){this.set(e,"",-1)}},_={NAME_ENCRYPTED:l("N_ENCRYPTED"),NAME_ENCRYPTEDKEY:l("NAME_ENCRYPTEDKEY"),PSW_ENCRYPTED:l("P_ENCRYPTED"),PSW_ENCRYPTEDKEY:l("P_ENCRYPTEDKEY"),PUBLICKEY:l("PUBLICKEY")},b={set:function(e,t,n){u.createNewUserKey().then(function(i){E.set(_.PUBLICKEY,r()(i[1]),n),u.encrypt(e,i[0]).then(function(e){E.set(_.NAME_ENCRYPTED,r()(e.encrypted),n),E.set(_.NAME_ENCRYPTEDKEY,e.encryptedKey,n)}),u.encrypt(t,i[0]).then(function(e){E.set(_.PSW_ENCRYPTED,r()(e.encrypted),n),E.set(_.PSW_ENCRYPTEDKEY,e.encryptedKey,n)})})},get:function(){var e=E.get(_.NAME_ENCRYPTED);if(e){var t,n=E.get(_.NAME_ENCRYPTEDKEY),i=E.get(_.PSW_ENCRYPTED),r=E.get(_.PSW_ENCRYPTEDKEY),a=E.get(_.PUBLICKEY),o=null,s="",c="",l="";return e&&n&&(o={encrypted:e,encryptedKey:n}),i&&r&&(t={encrypted:i,encryptedKey:r}),a&&(s=JSON.parse(a)),o&&s&&u.decrypt(o,s).then(function(e){c=e,console.log("decrypted",e)}),t&&s&&u.decrypt(o,s).then(function(e){l=e,console.log("decrypted",e)}),{name:c,psw:l}}return E.clear(_.NAME_ENCRYPTED),E.clear(_.NAME_ENCRYPTEDKEY),E.clear(_.PSW_ENCRYPTED),E.clear(_.PSW_ENCRYPTEDKEY),E.clear(_.PUBLICKEY),{name:"",psw:""}}};Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r={data:function(){return{username:localStorage.username||"未登录"}},methods:{logout:function(){this.$http.get("/api/user/Signout").then(function(e){var t=e.data;1==t.ReturnCode?(window.localStorage.removeItem("username"),this.$router.push({path:"/login"})):_self.$alert(t.Message," ",{type:"info",confirmButtonText:"确定"})},function(e){console.log(e)})}},components:{},mounted:function(){}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header-logined"},[t("div",{staticClass:"header-in"},[t("ul",{staticClass:"header-loged"},[t("li",{staticClass:"l1 header-usermsg"},[t("span",{staticClass:"name"},[this._v(this._s(this.username))])]),this._v(" "),t("li",{staticClass:"l1 header-slash"}),this._v(" "),t("li",{staticClass:"l1 header-logout",on:{click:this.logout}},[this._v("注销")])])])])},staticRenderFns:[]};var o=n("VU/8")(r,a,!1,function(e){n("64F1")},"data-v-6ad6a808",null).exports,u={props:{isfix:{type:Boolean,default:!1}},data:function(){return{preActive:"/index.html#/material/admin",activeIndex:"/index.html#/material/admin",rootMenuItems:[],menuItems:[{index:"/index.html#/material/admin",title:"物料管理",msg:"/index.html#/material",submenuItems:[{index:"/index.html#/material/admin",title:"物料管理"},{index:"/index.html#/material/mouldadmin",title:"模具管理"}]},{index:"/index.html#/vendor/admin",title:"供应商管理",msg:"/vendor",submenuItems:[{index:"/index.html#/vendor/admin",title:"供应商管理"}]},{index:"/index.html#/production/list",title:"成品管理",msg:"/production",submenuItems:[{index:"/index.html#/production/admin",title:"成品管理"},{index:"/index.html#/production/list",title:"成品列表"}]},{index:"/index.html#/customer/admin",title:"客户管理",msg:"/customer",submenuItems:[{index:"/index.html#/customer/admin",title:"客户管理"}]},{index:"/personal",title:"财务管理",msg:"/personal"},{index:"/index.html#/admin/user",title:"系统管理",msg:"/admin",submenuItems:[{index:"/index.html#/admin/user",title:"用户管理"},{index:"/index.html#/admin/role",title:"角色管理"},{index:"/index.html#/admin/dict",title:"字典管理"}]}],count:4}},methods:{handleSelect:function(e,t){this.preActive=e}},watch:{preActive:function(){var e=this.activeIndex,t=this;"/forbidden"==this.preActive&&(this.activeIndex="",setTimeout(function(){t.activeIndex=e,t.preActive=e},0))},$route:function(e,t){for(var n=e.matched,i=n.length-1;i>=0;i--){var r=n[i];if(r.path)for(var a=0,o=this.menuItems.length;a<o;a++){var u=this.menuItems[a];if(0==r.path.indexOf(u.msg)){if(u.submenuItems)for(var s=0,c=u.submenuItems.length;s<c;s++){var l=u.submenuItems[s],d="?";for(var m in this.$route.query)d+=m+"="+this.$route.query[m]+"&";d=d.slice(0,d.length-1);var h=r.path+d;if(0==r.path.indexOf(l.index)||0==h.indexOf(l.index)){this.activeIndex=l.index;break}}this.activeIndex=u.index;break}}}}},components:{},mounted:function(){var e="/"!=this.$route.path?this.$route.path:"/personal";this.activeIndex=e}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu-bar"},[i("div",{staticClass:"menu-bar-in"},[i("img",{staticClass:"menu-logo",class:{nofixed:!e.isfix},attrs:{src:n("1uAg")}}),e._v(" "),i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:!0},on:{select:e.handleSelect}},[e._l(e.menuItems,function(t){return[i("el-submenu",{key:t.index,attrs:{index:t.index}},[i("template",{slot:"title"},[i("el-menu-item",{staticClass:"menu-title-item",attrs:{index:t.index}},[i("a",{directives:[{name:"show",rawName:"v-show",value:"/forbidden"!=t.index,expression:"menuItem.index != '/forbidden'"}],staticClass:"menu-link",attrs:{href:t.index}},[e._v(e._s(t.title))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"/forbidden"==t.index,expression:"menuItem.index == '/forbidden'"}]},[e._v(e._s(t.title))])])],1),e._v(" "),e._l(t.submenuItems,function(t){return i("el-menu-item",{key:t.index,class:t.nouse?"nouse-menu":"",attrs:{index:t.index}},[i("a",{directives:[{name:"show",rawName:"v-show",value:"/forbidden"!=t.index,expression:"submenuItem.index != '/forbidden'"}],staticClass:"menu-link",attrs:{href:t.index}},[e._v(e._s(t.title))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"/forbidden"==t.index,expression:"submenuItem.index == '/forbidden'"}]},[e._v(e._s(t.title))])])})],2)]})],2)],1)])},staticRenderFns:[]};var c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"routebar"},e._l(e.routeName,function(t,i){return n("div",{key:i,staticClass:"routewp"},[0!=i?n("span",{staticClass:"next"},[e._v(" > ")]):e._e(),e._v(" "),i==e.routeName.length-1?n("span",{staticClass:"focus"},[e._v(e._s(t.title))]):e._e(),e._v(" "),i!=e.routeName.length-1?n("a",{staticClass:"not-focus",attrs:{href:"/#"+t.path}},[e._v(e._s(t.title))]):e._e()])}))},staticRenderFns:[]};var l={name:"app",data:function(){return{isMenuFix:!1}},components:{topmenu:n("VU/8")(u,s,!1,function(e){n("t2ed")},null,null).exports,hd:o,rb:n("VU/8")({data:function(){return{routeName:this.$route.meta?this.$route.meta.routeName:[]}},methods:{},watch:{$route:function(e,t){this.routeName=e.meta.routeName}},components:{},mounted:function(){}},c,!1,function(e){n("vHlQ")},"data-v-6780a7a6",null).exports,foot:n("mzkE").a},methods:{setDatas:function(e,t,n){e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.clientHeight,n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);this.isMenuFix=t<n&&e>=60}},mounted:function(){var e=this;e.setDatas(),window.addEventListener("scroll",function(){e.setDatas()}),window.addEventListener("resize",function(){e.setDatas()}),window.onbeforeunload=function(){}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.$route.meta.isHideTopMenu?e._e():n("hd"),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMenuFix,expression:"isMenuFix"}],staticClass:"replace-menu"}),e._v(" "),e.$route.meta.isHideTopMenu?e._e():n("topmenu",{staticClass:"menu-cls",class:{fixed:e.isMenuFix},attrs:{isfix:e.isMenuFix}}),e._v(" "),e.$route.meta.isHideTopMenu?e._e():n("rb"),e._v(" "),n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view"):e._e()],1)],1),e._v(" "),n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[e.$route.meta.keepAlive?e._e():n("router-view")],1),e._v(" "),e.$route.meta.isHideTopMenu?e._e():n("foot")],1)},staticRenderFns:[]};var m=n("VU/8")(l,d,!1,function(e){n("+lAU")},null,null).exports,h=n("/ocq");i.default.use(h.a);var p=new h.a({routes:[{path:"index.html#/admin/user",component:function(e){return Promise.all([n.e(0),n.e(4)]).then(function(){return n("mg1i")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"管理中心",path:"index.html#/admin/user"},{title:"用户管理",path:"index.html#/admin/user"}]}},{path:"/admin/dict",component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){return n("c/nG")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"管理中心",path:"/admin/user"},{title:"字典管理",path:"/admin/dict"}]}},{path:"/admin/role",component:function(e){return Promise.all([n.e(0),n.e(9)]).then(function(){return n("e3jb")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"管理中心",path:"/admin/user"},{title:"角色管理",path:"/admin/role"}]}},{path:"/vendor/admin",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return n("N2T3")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"供应商",path:"/vendor/admin"},{title:"供应商管理",path:"/vendor/admin"}]}},{path:"/material/admin",component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){return n("YzDs")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"物料",path:"/material/admin"},{title:"物料管理",path:"/material/admin"}]}},{path:"/material/mouldadmin",component:function(e){return Promise.all([n.e(0),n.e(10)]).then(function(){return n("6HB0")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"物料",path:"/material/admin"},{title:"模具管理",path:"/material/mouldadmin"}]}},{path:"/customer/admin",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return n("ZDuz")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"客户",path:"/customer/admin"},{title:"客户管理",path:"/customer/admin"}]}},{path:"/production/admin",component:function(e){return Promise.all([n.e(0),n.e(11)]).then(function(){return n("m6qX")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"成品",path:"/production/admin"},{title:"成品管理",path:"/production/admin"}]}},{path:"/production/list",component:function(e){return n.e(6).then(function(){return n("aVp+")}.bind(null,n)).catch(n.oe)},meta:{routeName:[{title:"成品",path:"/production/list"},{title:"成品列表",path:"/production/list"}]}},{path:"/login",component:function(e){return n.e(3).then(function(){return e(n("Yo0C"))}.bind(null,n)).catch(n.oe)},meta:{isAnonymous:!0,isHideTopMenu:!0}}]}),f=(n("LqIw"),n("991W"),n("+944")),v=n.n(f),x=(n("Dep7"),n("IqEw"),n("OolZ"));i.default.use(v.a),i.default.use(x.a),i.default.http.options.emulateJSON=!0,i.default.config.productionTip=!1,i.default.http.interceptors.push(function(e,t){t(function(e){return 401==e.status&&(parent.location.href="#/login"),e})}),new i.default({el:"#app",router:p,components:{App:m},template:"<App/>"})},gStH:function(e,t){},mzkE:function(e,t,n){"use strict";var i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"footer-logined"},[this._v("粤ICP备xxxxx号© 2017 mbcloud. All Rights Reserved. 招银云创")])},staticRenderFns:[]};var r=n("VU/8")({data:function(){return{}}},i,!1,function(e){n("gStH")},"data-v-ae6f209a",null);t.a=r.exports},t2ed:function(e,t){},vHlQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.87c06b76584f0abab0b1.js.map