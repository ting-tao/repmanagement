{"version":3,"sources":["webpack:///src/page/SysAdmin/UserRoleAdmin.vue","webpack:///./src/page/SysAdmin/UserRoleAdmin.vue?d46e","webpack:///./src/page/SysAdmin/UserRoleAdmin.vue"],"names":["UserRoleAdmin","data","tableData","categoryTypeList","consts","curCategoryType","dialogrole","editRoleIndex","formData","DicTypeID","TypeName","Description","Id","region","rules","RoleName","required","message","trigger","methods","getDataList","_self","this","$http","get","then","res","result","ReturnCode","Data","$alert","Message","type","confirmButtonText","err","console","log","addRole","editRole","item","assign_default","indexOf","saveRole","_this","$refs","validate","valid","post","resultData","push","splice","mounted","computed","SysAdmin_UserRoleAdmin","render","_vm","_h","$createElement","_c","staticClass","attrs","on","click","$event","_v","ref","border","highlight-current-row","label","width","align","property","scopedSlots","_u","key","fn","scope","row","title","visible","update:visible","model","label-width","prop","autocomplete","value","callback","$$v","$set","expression","readonly","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iKAiDAA,cACAC,KADA,WAGA,OACAC,aAEAC,iBAAAC,EAAA,EACAC,gBAAA,KACAC,YAAA,EAEAC,eAAA,EACAC,UACAC,UAAA,GACAC,SAAA,GACAC,YAAA,GACAC,GAAA,GACAC,OAAA,IAEAC,OACAC,WAEAC,UAAA,EACAC,QAAA,UACAC,QAAA,YAOAC,SACAC,YADA,WAEA,IAAAC,EAAAC,KACAA,KAAAC,MAAAC,IAAA,6BAAAC,KACA,SAAAC,GACA,IAAAC,EAAAD,EAAAzB,KAEA,GAAA0B,EAAAC,WACAP,EAAAnB,UAAAyB,EAAAE,KAEAR,EAAAS,OAAAH,EAAAI,QAAA,KACAC,KAAA,OACAC,kBAAA,QAIA,SAAAC,GACAC,QAAAC,IAAAF,MAIAG,QArBA,WAuBAf,KAAAd,YACAc,KAAAhB,YAAA,EACAgB,KAAAf,eAAA,GAGA+B,SA5BA,SA4BAC,GACAjB,KAAAd,SAAAgC,OAAAD,GACAjB,KAAAf,cAAAe,KAAApB,UAAAuC,QAAAF,GACAjB,KAAAhB,YAAA,GAEAoC,SAjCA,SAiCAlC,GAAA,IAAAmC,EAAArB,KACAD,EAAAC,KAEAA,KAAAsB,MAAApC,GAAAqC,SAAA,SAAAC,GACA,IAAAA,EA8BA,SA7BAH,EAAApB,MAAAwB,KAAA,qBAAA1B,EAAAb,UAAAiB,KACA,SAAAC,GACA,IAAAC,EAAAD,EAAAzB,KAEA,MAAA0B,EAAAC,WAAA,CACA,IAAAoB,EAAArB,EAAAE,MACA,IAAAR,EAAAd,cACAc,EAAAnB,UAAA+C,KAAAD,GAEA3B,EAAAnB,UAAAgD,OACA7B,EAAAd,cACA,EACAyC,GAGA3B,EAAAf,YAAA,EACAe,EAAAb,iBAEAa,EAAAS,OAAAH,EAAAI,QAAA,KACAC,KAAA,OACAC,kBAAA,QAIA,SAAAC,GACAC,QAAAC,IAAAF,SASAiB,QAAA,WACA7B,KAAAF,eAEAgC,cCvJeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAlC,MAAAqC,IAAAF,EAAwB,OAAAE,EAAA,OAAiBC,YAAA,2BAAqCD,EAAA,OAAYC,YAAA,YAAsBD,EAAA,aAAkBC,YAAA,mBAAAC,OAAsC5B,KAAA,WAAiB6B,IAAKC,MAAA,SAAAC,GAAyBR,EAAAlB,cAAgBqB,EAAA,KAAUC,YAAA,iBAA2BJ,EAAAS,GAAA,qBAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA0DC,YAAA,SAAAC,OAA4B5B,KAAA,WAAiB6B,IAAKC,MAAA,SAAAC,GAAyBR,EAAAnC,kBAAoBsC,EAAA,KAAUC,YAAA,mBAA6BJ,EAAAS,GAAA,uBAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAsDC,YAAA,UAAoBD,EAAA,YAAiBO,IAAA,cAAAL,OAAyB3D,KAAAsD,EAAArD,UAAAgE,OAAA,GAAAC,wBAAA,MAA6DT,EAAA,mBAAwBE,OAAO5B,KAAA,QAAAoC,MAAA,KAAAC,MAAA,KAAAC,MAAA,UAAyDf,EAAAS,GAAA,KAAAN,EAAA,mBAAoCE,OAAOW,SAAA,WAAAH,MAAA,OAAAC,MAAA,MAAAC,MAAA,UAAmEf,EAAAS,GAAA,KAAAN,EAAA,mBAAoCE,OAAOW,SAAA,WAAAH,MAAA,OAAAC,MAAA,MAAAC,MAAA,UAAmEf,EAAAS,GAAA,KAAAN,EAAA,mBAAoCE,OAAOQ,MAAA,OAAAC,MAAA,OAA6BG,YAAAjB,EAAAkB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAlB,EAAA,KAAgBC,YAAA,+BAAAE,IAA+CC,MAAA,SAAAC,GAAyBR,EAAAjB,SAAAsC,EAAAC,iBAAiC,OAAAtB,EAAAS,GAAA,KAAAN,EAAA,aAAsCE,OAAOkB,OAAA,GAAAvB,EAAAhD,cAAA,UAAAwE,QAAAxB,EAAAjD,YAAiEuD,IAAKmB,iBAAA,SAAAjB,GAAkCR,EAAAjD,WAAAyD,MAAwBL,EAAA,WAAgBO,IAAA,WAAAL,OAAsBqB,MAAA1B,EAAA/C,SAAAM,MAAAyC,EAAAzC,SAAwC4C,EAAA,gBAAqBE,OAAOQ,MAAA,OAAAc,cAAA,QAAAC,KAAA,cAAwDzB,EAAA,YAAiBE,OAAOwB,aAAA,OAAqBH,OAAQI,MAAA9B,EAAA/C,SAAA,SAAA8E,SAAA,SAAAC,GAAuDhC,EAAAiC,KAAAjC,EAAA/C,SAAA,WAAA+E,IAAwCE,WAAA,wBAAiC,GAAAlC,EAAAS,GAAA,KAAAN,EAAA,gBAAqCE,OAAOQ,MAAA,OAAAc,cAAA,WAAsCxB,EAAA,YAAiBE,OAAOwB,aAAA,MAAAM,SAAA,IAAmCT,OAAQI,MAAA9B,EAAA/C,SAAA,SAAA8E,SAAA,SAAAC,GAAuDhC,EAAAiC,KAAAjC,EAAA/C,SAAA,WAAA+E,IAAwCE,WAAA,wBAAiC,OAAAlC,EAAAS,GAAA,KAAAN,EAAA,OAAgCC,YAAA,gBAAAC,OAAmC+B,KAAA,UAAgBA,KAAA,WAAejC,EAAA,aAAkBG,IAAIC,MAAA,SAAAC,GAAyBR,EAAAjD,YAAA,MAAyBiD,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA8CE,OAAO5B,KAAA,WAAiB6B,IAAKC,MAAA,SAAAC,GAAyBR,EAAAb,SAAA,gBAA2Ba,EAAAS,GAAA,sBAE3xE4B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE/F,EACAqD,GATF,EAVA,SAAA2C,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/9.6d16bd502d9840c4013a.js","sourcesContent":["<template>\r\n    <div class=\"dicttable dict-manager\">\r\n        \r\n        <!-- 查询模块 -->\r\n        <div class=\"inquire\">\r\n            <el-button class=\"added demand-add\" type=\"primary\" @click=\"addRole()\">\r\n                <i class=\"el-icon-plus\"></i>&nbsp;新增角色\r\n            </el-button>\r\n            <el-button class=\"demand\" type=\"primary\" @click=\"getDataList()\">\r\n                <i class=\"el-icon-search\"></i>&nbsp;刷新\r\n            </el-button>\r\n        </div>\r\n        <!-- 左侧导航 -->\r\n        <div class=\"table\">\r\n            <el-table ref=\"singleTable\" :data=\"tableData\" border=\"\" highlight-current-row>\r\n                <el-table-column type=\"index\" label=\"序号\" width=\"80\" align=\"left\"></el-table-column>\r\n                <el-table-column property=\"RoleName\" label=\"角色名称\" width=\"120\" align=\"left\"></el-table-column>\r\n                <el-table-column property=\"RoleType\" label=\"角色数值\" width=\"150\" align=\"left\"></el-table-column>\r\n                <el-table-column label=\"用户操作\" width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-edit green operation\" @click=\"editRole(scope.row)\"></i>\r\n                        \r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-dialog :title=\"editRoleIndex==-1?'新增':'编辑'\" :visible.sync=\"dialogrole\">\r\n            <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\">\r\n               \r\n                <el-form-item label=\"角色名称\" label-width=\"120px\" prop=\"RoleName\">\r\n                    <el-input v-model=\"formData.RoleName\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色数值\" label-width=\"120px\">\r\n                    <el-input v-model=\"formData.RoleType\" autocomplete=\"off\" readonly></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogrole = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveRole('formData')\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { dictTypes, categoryTypeList } from \"../../lib/consts\";\r\n\r\nimport { copyObjectValue } from \"../../lib/mUtils\";\r\n\r\nexport default {\r\n    data() {\r\n        \r\n        return {\r\n            tableData: [],\r\n\r\n            categoryTypeList: categoryTypeList,\r\n            curCategoryType: null,\r\n            dialogrole: false,\r\n            \r\n            editRoleIndex:-1,\r\n            formData: {\r\n                DicTypeID: \"\",\r\n                TypeName: \"\",\r\n                Description: \"\",\r\n                Id: \"\",\r\n                region: \"\"\r\n            },\r\n            rules: {\r\n                RoleName: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入显示名称\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ]\r\n               \r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        getDataList() {\r\n            let _self = this;\r\n            this.$http.get(\"/api/user/GetUserRoleList\").then(\r\n                function(res) {\r\n                    var result = res.data;\r\n\r\n                    if (result.ReturnCode == 1) {\r\n                        _self.tableData = result.Data;\r\n                    } else {\r\n                        _self.$alert(result.Message, \" \", {\r\n                            type: \"info\",\r\n                            confirmButtonText: \"确定\"\r\n                        });\r\n                    }\r\n                },\r\n                function(err) {\r\n                    console.log(err);\r\n                }\r\n            );\r\n        },\r\n        addRole() {\r\n            //this.formData.DicTypeId=this.curCategoryType;\r\n            this.formData={};\r\n            this.dialogrole = true;\r\n            this.editRoleIndex=-1;\r\n            //this.$data.dialogrole\r\n        },\r\n        editRole(item) {\r\n            this.formData = Object.assign({},item);\r\n            this.editRoleIndex=this.tableData.indexOf(item);\r\n            this.dialogrole = true;\r\n        },\r\n        saveRole(formData) {\r\n            let _self = this;\r\n\r\n            this.$refs[formData].validate(valid => {\r\n                if (valid) {\r\n                    this.$http.post(\"/api/user/SaveRole\", _self.formData).then(\r\n                        function(res) {\r\n                            var result = res.data;\r\n\r\n                            if (result.ReturnCode == 1) {\r\n                                var resultData = result.Data;\r\n                                if (_self.editRoleIndex === -1) {\r\n                                    _self.tableData.push(resultData);\r\n                                } else {\r\n                                    _self.tableData.splice(\r\n                                        _self.editRoleIndex,\r\n                                        1,\r\n                                        resultData\r\n                                    );\r\n                                }\r\n                                _self.dialogrole = false;\r\n                                _self.formData = {};\r\n                            } else {\r\n                                _self.$alert(result.Message, \" \", {\r\n                                    type: \"info\",\r\n                                    confirmButtonText: \"确定\"\r\n                                });\r\n                            }\r\n                        },\r\n                        function(err) {\r\n                            console.log(err);\r\n                        }\r\n                    );\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    mounted: function() {\r\n        this.getDataList();\r\n    },\r\n    computed: {\r\n        \r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n.operation {\r\n    cursor: pointer;\r\n}\r\n.table {\r\n    width: 100%;\r\n    margin-top: 10px;\r\n}\r\n\r\n.dicttable {\r\n    width: 1200px;\r\n    text-align: left;\r\n    margin:10px auto 0 auto;\r\n    overflow: hidden;\r\n    padding-bottom: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/SysAdmin/UserRoleAdmin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dicttable dict-manager\"},[_c('div',{staticClass:\"inquire\"},[_c('el-button',{staticClass:\"added demand-add\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addRole()}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 新增角色\\n        \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"demand\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.getDataList()}}},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" 刷新\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('el-table',{ref:\"singleTable\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"80\",\"align\":\"left\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"RoleName\",\"label\":\"角色名称\",\"width\":\"120\",\"align\":\"left\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"RoleType\",\"label\":\"角色数值\",\"width\":\"150\",\"align\":\"left\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-edit green operation\",on:{\"click\":function($event){_vm.editRole(scope.row)}}})]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.editRoleIndex==-1?'新增':'编辑',\"visible\":_vm.dialogrole},on:{\"update:visible\":function($event){_vm.dialogrole=$event}}},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"label-width\":\"120px\",\"prop\":\"RoleName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.RoleName),callback:function ($$v) {_vm.$set(_vm.formData, \"RoleName\", $$v)},expression:\"formData.RoleName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色数值\",\"label-width\":\"120px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.formData.RoleType),callback:function ($$v) {_vm.$set(_vm.formData, \"RoleType\", $$v)},expression:\"formData.RoleType\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogrole = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.saveRole('formData')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-777e091e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/SysAdmin/UserRoleAdmin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-777e091e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserRoleAdmin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserRoleAdmin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserRoleAdmin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-777e091e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserRoleAdmin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/SysAdmin/UserRoleAdmin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}