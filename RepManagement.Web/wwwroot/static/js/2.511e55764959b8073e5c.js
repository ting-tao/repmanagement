webpackJsonp([2],{"9bBU":function(t,e,a){a("mClu");var l=a("FeBl").Object;t.exports=function(t,e,a){return l.defineProperty(t,e,a)}},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},INks:function(t,e){},ZDuz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("woOf"),o=a.n(l),r=a("bOdI"),s=a.n(r),n=a("IqEw"),i={data:function(){var t;return{tableData:[],categoryTypeList:n.a,curCustomerType:null,dialogCustomer:!1,dialogTitle:"新增",editItemIndex:-1,formData:(t={SerialNum:"",CustomerName:"",TypeID:"",Style:"",Level:"",Amount:"",Demand:"",CustomerEval:"",FactoryEval:""},s()(t,"FactoryEval",""),s()(t,"ContactPhone",""),s()(t,"ManagerPhone",""),s()(t,"ManagerName",""),s()(t,"Address",""),s()(t,"Years",""),t),rules:{TypeName:[{required:!0,message:"请输入显示名称",trigger:"blur"}],DicTypeID:[{message:"请选择字典类别",validator:function(t,e,a){e?a():a(new Error("字典类型不能为空"))}}]},customerTypeList:[]}},methods:{getDataList:function(){var t=this;this.$http.get("/api/customer/GetCustomerList").then(function(e){var a=e.data;1==a.ReturnCode?t.tableData=a.Data:t.$alert(a.Message," ",{type:"info",confirmButtonText:"确定"})},function(t){console.log(t)})},addCustomer:function(){this.dialogTitle="新增",this.dialogCustomer=!0,this.editItemIndex=-1},editCustomer:function(t,e){this.formData=o()({},t),this.dialogTitle="编辑",this.editItemIndex=this.tableData.indexOf(t),this.dialogCustomer=!0},handleDelete:function(t,e){var a=this;this.$http.get("/api/vendor/DeleteVendor?vendorId="+t.Id).then(function(e){var l=e.data;if(1==l.ReturnCode){var o=a.tableData.indexOf(t);a.tableData.splice(o,1)}else a.$alert(l.Message," ",{type:"info",confirmButtonText:"确定"})},function(t){console.log(t)})},saveCustomer:function(t){var e=this;this.$http.post("/api/customer",e.formData).then(function(t){var a=t.data;if(1==a.ReturnCode){var l=a.Data;-1==e.editItemIndex?e.tableData.push(l):e.tableData.splice(e.editItemIndex,1,l),e.dialogCustomer=!1,e.editItemIndex=-1,e.formData={}}else e.$alert(a.Message," ",{type:"info",confirmButtonText:"确定"})},function(t){console.log(t)})},getcustomerTypeList:function(){var t=this;this.$http.get("/api/dict/GetDictByType?typeId=103").then(function(e){var a=e.data;1==a.ReturnCode?t.customerTypeList=a.Data:t.$alert(a.Message," ",{type:"info",confirmButtonText:"确定"})},function(t){console.log(t)})}},mounted:function(){this.getcustomerTypeList(),this.getDataList()},computed:{fiteredTableData:function(){var t=this;return this.curCustomerType?this.tableData.filter(function(e){return e.DicTypeID==t.curCustomerType}):this.tableData}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dicttable dict-manager"},[a("table",{staticClass:"filter_table",attrs:{cellspacing:"0",cellpadding:"0"}},[a("tbody",[a("tr",{staticClass:"ct tb-tr"},[a("td",{staticClass:"name"},[t._v("客户类别 ：")]),t._v(" "),a("td",{staticStyle:{padding:"5px 0"}},[a("el-select",{staticClass:"w220",attrs:{placeholder:"请选择客户类别",filterable:"",clearable:""},on:{change:t.getDataList,clear:t.getDataList},model:{value:t.curCustomerType,callback:function(e){t.curCustomerType=e},expression:"curCustomerType"}},t._l(t.customerTypeList,function(t){return a("el-option",{key:t.Id,attrs:{label:t.TypeName,value:t.Id}})}))],1),t._v(" "),a("td",{staticClass:"name"},[t._v("编号 ：")]),t._v(" "),a("td",[a("el-input",{staticClass:"w220",attrs:{clearable:""}})],1),t._v(" "),a("td",{staticClass:"name"},[t._v("名称 ：")]),t._v(" "),a("td",[a("el-input",{staticClass:"w220",attrs:{clearable:""}})],1)])])]),t._v(" "),a("div",{staticClass:"inquire"},[a("el-button",{staticClass:"added demand-add",attrs:{type:"primary"},on:{click:function(e){t.addCustomer()}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新增客户\n        ")]),t._v(" "),a("el-button",{staticClass:"demand",attrs:{type:"primary"},on:{click:function(e){t.getDataList()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" 搜索\n        ")])],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{ref:"singleTable",attrs:{data:t.fiteredTableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"SerialNum",label:"编号",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"CustomerName",label:"名称",width:"auto",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"TypeName",label:"类别",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"Style",label:"风格",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"Level",label:"档次",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"Amount",label:"销量",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"Demand",label:"需求",width:"80",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{property:"Years",label:"合作年份",width:"100",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-edit green operation",on:{click:function(a){t.editCustomer(e.row,e.$index)}}}),t._v(" "),a("span",{staticClass:"slash"}),t._v(" "),a("i",{staticClass:"el-icon-delete2 green operation",on:{click:function(a){t.handleDelete(e.row,e.$index)}}})]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogCustomer},on:{"update:visible":function(e){t.dialogCustomer=e}}},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编号","label-width":"120px",prop:"SerialNum"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.SerialNum,callback:function(e){t.$set(t.formData,"SerialNum",e)},expression:"formData.SerialNum"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"名称","label-width":"120px",prop:"CustomerName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.CustomerName,callback:function(e){t.$set(t.formData,"CustomerName",e)},expression:"formData.CustomerName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"类别","label-width":"120px",prop:"TypeID"}},[a("el-select",{staticClass:"w220",attrs:{placeholder:"请选择客户类别"},model:{value:t.formData.TypeID,callback:function(e){t.$set(t.formData,"TypeID",e)},expression:"formData.TypeID"}},t._l(t.customerTypeList,function(t){return a("el-option",{key:t.Id,attrs:{label:t.TypeName,value:t.Id,clearable:""}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"风格","label-width":"120px",prop:"Style"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Style,callback:function(e){t.$set(t.formData,"Style",e)},expression:"formData.Style"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"档次","label-width":"120px",prop:"Level"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Level,callback:function(e){t.$set(t.formData,"Level",e)},expression:"formData.Level"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"销量","label-width":"120px",prop:"Amount"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Amount,callback:function(e){t.$set(t.formData,"Amount",e)},expression:"formData.Amount"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"客户评价","label-width":"120px",prop:"CustomerEval"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.CustomerEval,callback:function(e){t.$set(t.formData,"CustomerEval",e)},expression:"formData.CustomerEval"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"工厂评价","label-width":"120px",prop:"FactoryEval"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.FactoryEval,callback:function(e){t.$set(t.formData,"FactoryEval",e)},expression:"formData.FactoryEval"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"需求","label-width":"120px",prop:"Demand"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Demand,callback:function(e){t.$set(t.formData,"Demand",e)},expression:"formData.Demand"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"联系人/电话","label-width":"120px",prop:"ContactPhone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.ContactPhone,callback:function(e){t.$set(t.formData,"ContactPhone",e)},expression:"formData.ContactPhone"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"公司负责人","label-width":"120px",prop:"ManagerName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.ManagerName,callback:function(e){t.$set(t.formData,"ManagerName",e)},expression:"formData.ManagerName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"负责人/电话","label-width":"120px",prop:"ManagerPhone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.ManagerPhone,callback:function(e){t.$set(t.formData,"ManagerPhone",e)},expression:"formData.ManagerPhone"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"地址","label-width":"120px",prop:"Address"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Address,callback:function(e){t.$set(t.formData,"Address",e)},expression:"formData.Address"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"合作年份","label-width":"120px",prop:"Years"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.Years,callback:function(e){t.$set(t.formData,"Years",e)},expression:"formData.Years"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogCustomer=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveCustomer("formData")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(i,c,!1,function(t){a("INks")},null,null);e.default=u.exports},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var l,o=a("C4MV"),r=(l=o)&&l.__esModule?l:{default:l};e.default=function(t,e,a){return e in t?(0,r.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},mClu:function(t,e,a){var l=a("kM2E");l(l.S+l.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});
//# sourceMappingURL=2.511e55764959b8073e5c.js.map