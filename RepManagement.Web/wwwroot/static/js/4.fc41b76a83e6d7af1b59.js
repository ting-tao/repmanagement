webpackJsonp([4],{"7ZSe":function(e,t){},g2py:function(e,t){},mg1i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),n=a.n(r),o=(a("nh42"),{props:{},data:function(){return{tableData:[],defaultPassword:"123456",dialogroles:!1,rolelist:[],showdialoguser:!1,curUserIndex:-1,formData:{},formLabelWidth:"120px",rules:{UserName:[{required:!0,message:"请输入登录账号",trigger:"blur"},{type:"string",pattern:/^[a-zA-Z0-9]*$/,message:"请输入正确的登录账号",trigger:"blur,change"}],DisplayName:[{required:!0,message:"请输入用户名称",trigger:"blur"}]}}},computed:{},methods:{getUsers:function(e,t){var a=this;this.$http.get("/api/user/GetUserList").then(function(e){var t=e.data;1==t.ReturnCode?a.tableData=t.Data:a.$alert(t.Message," ",{type:"info",confirmButtonText:"确定"})},function(e){console.log(e)})},getRoles:function(){var e=this;this.$http.get("/api/user/GetUserRoleList").then(function(t){var a=t.data;1==a.ReturnCode?e.rolelist=a.Data:e.$alert(a.Message," ",{type:"info",confirmButtonText:"确定"})},function(e){console.log(e)})},adduser:function(){this.curUserIndex=-1,this.showdialoguser=!0,this.formData={}},edituser:function(e){this.curUserIndex=this.tableData.indexOf(e),this.formData=n()({},e),this.showdialoguser=!0},search:function(){this.getUsers()},saveUser:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post("/api/user/PostUser",a.formData).then(function(e){var t=e.data;if(1==t.ReturnCode){var r=t.Data;-1===a.curUserIndex?a.tableData.push(r):a.tableData.splice(a.curUserIndex,1,r),a.showdialoguser=!1,a.formData={}}else a.$alert(t.Message," ",{type:"info",confirmButtonText:"确定"})},function(e){console.log(e)})})},checkIntensity:function(e,t){var a=e.length,r=0,n=0,o=0;if(e){for(n=0;n<a;n++){var s=e.charCodeAt(n);o|=s>=48&&s<=57?1:s>=65&&s<=90?2:4}for(n=0;n<4;n++)1&o&&r++,o>>>=1;a<=4&&(r=1)}else r=0;var l=document.getElementById(t),i=l.getElementsByClassName("pwd")[1],u=this.clearPswVarify();switch(r){case 1:l.className=u+" J-weak",i.innerHTML="弱";break;case 2:l.className=u+" J-mediun",i.innerHTML="中";break;case 3:l.className=u+" J-strong",i.innerHTML="强";break;default:i.innerHTML="无"}},clearPswVarify:function(){var e=document.getElementsByClassName("J-psw-varify"),t="";if(e)for(var a=0,r=e.length;a<r;a++)e[a].className=t=e[a].className.replace(" J-weak","").replace(" J-mediun","").replace(" J-strong","");return t},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){var r=a;a.$http.get("/api/user/DeleteItem?itemId="+e).then(function(e){var a=e.data;1==a.ReturnCode?r.tableData.splice(t,1):r.$alert(a.Message," ",{type:"info",confirmButtonText:"确定"})},function(e){console.log(e)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},mounted:function(){this.getUsers(),this.getRoles()}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user user-manager"},[a("div",{staticClass:"inquire"},[a("el-button",{staticClass:"added demand-add",attrs:{type:"primary"},on:{click:function(t){e.adduser()}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加用户\n        ")]),e._v(" "),a("el-button",{staticClass:"demand",attrs:{type:"primary"},on:{click:function(t){e.search()}}},[a("i",{staticClass:"el-icon-search"}),e._v(" 查询\n        ")])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{ref:"singleTable",attrs:{data:e.tableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{property:"UserName",label:"登录账号",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{property:"DisplayName",label:"用户姓名",width:"150",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{property:"PhoneNumber",label:"电话",width:"150",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{property:"Email",label:"邮箱",width:"auto",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{property:"Address",label:"地址",width:"auto",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-edit green operation",on:{click:function(a){e.edituser(t.row)}}}),e._v(" "),a("span",{staticClass:"slash"}),e._v(" "),a("i",{staticClass:"el-icon-delete2 green operation",on:{click:function(a){e.handleDelete(t.row.Id,t.$index)}}})]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:-1==e.curUserIndex?"新增":"编辑",visible:e.showdialoguser},on:{"update:visible":function(t){e.showdialoguser=t}}},[a("el-form",{ref:"userform",attrs:{model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"登录账号","label-width":e.formLabelWidth,prop:"UserName"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"登录账号只能包括字母和数字"},model:{value:e.formData.UserName,callback:function(t){e.$set(e.formData,"UserName",t)},expression:"formData.UserName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名","label-width":e.formLabelWidth,prop:"DisplayName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.DisplayName,callback:function(t){e.$set(e.formData,"DisplayName",t)},expression:"formData.DisplayName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.PhoneNumber,callback:function(t){e.$set(e.formData,"PhoneNumber",t)},expression:"formData.PhoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.Email,callback:function(t){e.$set(e.formData,"Email",t)},expression:"formData.Email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.Address,callback:function(t){e.$set(e.formData,"Address",t)},expression:"formData.Address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showdialoguser=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveUser("userform")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,s,!1,function(e){a("g2py"),a("7ZSe")},"data-v-4bb6690c",null);t.default=l.exports},nh42:function(e,t,a){"use strict";function r(e,t){return t>>>e|t<<32-e}function n(e,t,a){return e&t^~e&a}function o(e,t,a){return e&t^e&a^t&a}function s(e){return r(2,e)^r(13,e)^r(22,e)}function l(e,t){return e[15&t]+=(r(17,a=e[t+14&15])^r(19,a)^a>>>10)+e[t+9&15]+function(e){return r(7,e)^r(18,e)^e>>>3}(e[t+1&15]);var a}a.d(t,"a",function(){return p});var i,u,c,f=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),d="0123456789abcdef";function m(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function h(){var e,t,a,u,d,h,p,v,b,g,y,D=new Array(16);e=i[0],t=i[1],a=i[2],u=i[3],d=i[4],h=i[5],p=i[6],v=i[7];for(var w=0;w<16;w++)D[w]=c[3+(w<<2)]|c[2+(w<<2)]<<8|c[1+(w<<2)]<<16|c[w<<2]<<24;for(var _=0;_<64;_++)b=v+(r(6,y=d)^r(11,y)^r(25,y))+n(d,h,p)+f[_],b+=_<16?D[_]:l(D,_),g=s(e)+o(e,t,a),v=p,p=h,h=d,d=m(u,b),u=a,a=t,t=e,e=m(b,g);i[0]+=e,i[1]+=t,i[2]+=a,i[3]+=u,i[4]+=d,i[5]+=h,i[6]+=p,i[7]+=v}var p=function(e){return i=new Array(8),u=new Array(2),c=new Array(64),u[0]=u[1]=0,i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,function(e,t){var a,r,n=0;r=u[0]>>3&63;var o=63&t;for((u[0]+=t<<3)<t<<3&&u[1]++,u[1]+=t>>29,a=0;a+63<t;a+=64){for(var s=r;s<64;s++)c[s]=e.charCodeAt(n++);h(),r=0}for(s=0;s<o;s++)c[s]=e.charCodeAt(n++)}(e,e.length),function(){var e=u[0]>>3&63;if(c[e++]=128,e<=56)for(var t=e;t<56;t++)c[t]=0;else{for(t=e;t<64;t++)c[t]=0;for(h(),t=0;t<56;t++)c[t]=0}c[56]=u[1]>>>24&255,c[57]=u[1]>>>16&255,c[58]=u[1]>>>8&255,c[59]=255&u[1],c[60]=u[0]>>>24&255,c[61]=u[0]>>>16&255,c[62]=u[0]>>>8&255,c[63]=255&u[0],h()}(),function(){for(var e=new String,t=0;t<8;t++)for(var a=28;a>=0;a-=4)e+=d.charAt(i[t]>>>a&15);return e}()}}});
//# sourceMappingURL=4.fc41b76a83e6d7af1b59.js.map